<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<style type='text/css'>
		body {
			font-family: 'Kite One', sans-serif;
		}

		div {
			border-style: solid;
			border-width: 2px;
			width: 500px;
			margin: auto;
			padding: 20px;
		}

		.uno {
			line-height: 30px;
		}
	</style>
	<script>
		let textoOriginal;
		function guardar() {
			  textoOriginal = document.getElementById("mitexto").innerHTML;
		}

		function buscar() {
			palabra = document.getElementById("busca").value;
			texto = document.getElementById("mitexto").innerHTML;

			texto = texto.replaceAll(","," ");
			texto = texto.replaceAll("."," ");
			textoSeparado = texto.split(" ");

			count = 0;

			textoSeparado.forEach(pal => {
				if (pal.trim() == palabra.trim()) {
					count++;
				}
			});

			if (count==0){
				alert(palabra+" no encontrado");
			}
			else {
				alert("La palabra "+palabra+" se ha encontrado "+count+" veces.")
			}

		}

		function reemplazar() {
			palabra = document.getElementById("pal1").value;
			palabraReplace = document.getElementById("pal2").value;
			texto = document.getElementById("mitexto").innerHTML;

			textoNuevo = texto.replaceAll(palabra,palabraReplace);
			document.getElementById("mitexto").innerHTML = textoNuevo;
		}

		function mayus(){
			texto = document.getElementById("mitexto").innerHTML;
			textoNuevo = texto.toUpperCase();
			document.getElementById("mitexto").innerHTML = textoNuevo;
		}

		function minus(){
			texto = document.getElementById("mitexto").innerHTML;
			textoNuevo = texto.toLowerCase();
			document.getElementById("mitexto").innerHTML = textoNuevo;
		}

		function restaurar(){
			document.getElementById("mitexto").innerHTML = textoOriginal;
		}
	</script>
</head>

<body onload="guardar()">
	<form>
		<br>
		<br>
		<div id="mitexto">
			En la granja, la vaca pasea tranquila por el prado, disfrutando del sol.
			La vaca es un animal muy importante, ya que nos da leche fresca cada mañana.
			Junto a la vaca, la oveja se mueve de un lado a otro, pastando la hierba verde.
			Mientras tanto, la gallina picotea el suelo, buscando granos y semillas. La gallina también pone huevos,
			que son un alimento básico en la granja.
			Cada mañana, el granjero cuida de la vaca, la oveja y la gallina,
			asegurándose de que estén bien alimentadas. La vaca, la oveja y la gallina forman parte
			de la vida diaria en la granja. Los niños suelen jugar cerca de la vaca, acariciando su suave piel.
			La oveja, con su blanca lana, también atrae la atención de los más pequeños.
			Y, por supuesto, la gallina siempre corretea, haciendo que todos rían con sus saltitos.
			Así, en la granja, la vaca, la oveja y la gallina se convierten en los mejores amigos de todos, creando un
			ambiente alegre y lleno de vida.
		</div>
		<br>
		<div>
			Introduce una palabra para buscarla en el texto <br><br>
			<input type="text" id="busca" size="10">
			<input type="button" class="uno" value="BUSCAR" onclick="buscar()">
		</div>
		<br>
		<div>
			Introduce dos palabras para reemplazar la primera por la segunda
			<p>Busco <input type="text" id="pal1" size="10"> Reemplazo <input type="text" id="pal2" size="10"></p>
			<input type="button" class="uno" value="REEMPLAZAR" onclick="reemplazar()">

		</div>
		<br>
		<div>
			<input type="button" class="uno" value="Poner en minúsculas" onclick="minus()">
			<input type="button" class="uno" value="Poner en MAYÚSCULAS" onclick="mayus()">
			<input type="button" class="uno" value="RESTAURAR" onclick="restaurar()">
		</div>
	</form>
</body>

</html>